# 概要
コンソール上で「キーの作成」を実施する際の各種項目を解説する。  

# 前提知識
## KMSとは
### KMSの仕組み
簡単に説明すると、データはカスタマーデータキー（CDK）で暗号化と複合化を行う。
そのCDKはカスタマーマスターキー（CMK）にて暗号化と複合化を行う。
KMSはそのCMKを保管しているサービス。詳しい処理の流れは下記の参考資料を参照。

![image](https://github.com/adgjmptwgw/aws-practice/assets/66456130/f31f2ff4-d1ea-4bf9-b508-a4c45263d248)

**参考資料**
- [**KMSの流れについてわかりやすい記事**](https://graff-it-i.com/2021/05/29/aws-kms/)
- [**KMSの流れについて図解でわかりやすい記事**](https://server-recipe.com/1103/)

### KMSの機能
- CMKの自動ローテーション
  - 3年おきに新しいCMKが作成、更新される。
  - CMKがローテーション前の古いキー情報も保持しており、これを「バッキングキー」と呼ぶ
  - 古いキーで暗号化されたデータは新しいキーで再暗号化されるわけではなく、暗号化時には最新のキーが使われ、復号時には暗号化に使用したバッキングキーが使用される仕組み。

### KMSのメリット/デメリット
**メリット**
- 自動ローテーションや管理をしてくれるので、管理コストがかからない
- データや物理的にディスクを盗まれても、データが暗号化されている為、漏洩リスクを下げる事ができる

**デメリット**
- 鍵を誤って削除すると、データを永遠に複合化できなくなる
- 処理速度にそれなりの影響が出るかは不明
- 料金が発生する

### 料金
- CMK1本に付き 1USD/月
- 

## 暗号化アルゴリズム  

### 対称暗号化（共通鍵暗号方式）
---
- 暗号化と複合化の鍵は同じものを使用する方式。
- 有名なアルゴリズムとしてAESなどが挙げられる。

**【メリット】**  
- 対称暗号化より安全
- セキュリティを損なうことなく公開鍵を共有できる
- デジタル署名による信頼性の検証が可能  

**【デメリット】**  
- 非対称鍵より処理が遅い
- 実装と管理がより複雑になる

![image](https://github.com/adgjmptwgw/aws-practice/assets/66456130/4383165d-94d9-4ab2-b1f7-2ca5ddeb57e5)


### 非対称暗号化（公開鍵暗号方式）
---
- 暗号化と複合化の鍵は違うものを使用する方式。
- 有名なアルゴリズムとしてRSAなどが挙げられる。  

**【メリット】**  
- 非対称暗号化よりも高速かつ効率的
- 実装も使用も簡単
- 大量のデータの暗号化に適している  

**【デメリット】**  
- 秘密鍵が侵害されると、攻撃に対して脆弱になる
- 否認防止ができない

![image](https://github.com/adgjmptwgw/aws-practice/assets/66456130/e530c312-ad28-48f2-acdb-6de4cd50217f)

### 推奨される暗号化アルゴリズムを政府が公開している
[電子政府推奨暗号化リスト](zoo200.net/aws-tutorial-ecs-fargate/)

