# 概要
TBD

# ナレッジ
## ボールト
アーカイブを保存するための領域で、S3のバケットに相当

## アーカイブ
- S3 Glacierに格納されるデータそのもの。S3のオブジェクトに相当。
- 直接アーカイブをアップロードする場合はCLIやSDKを使用する。コンソール上ではアーカイブの操作はできない。

## インベントリ
各ボールトに保存されているアーカイブの情報を収集したもの。具体的には、サイズ、作成日、アップロード時に設定したアーカイブの説明など。  


**<ダウンロードしたボールトインベントリ>**
```
{
    "VaultARN":"arn:aws:glacier:ap-northeast-1:************:vaults/examplevault",
    "InventoryDate":"2021-10-14T06:16:08Z",
    "ArchiveList":[
        {
　　　　　　// アーカイブのID
            "ArchiveId":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
　　　　　　// 説明文
            "ArchiveDescription":"",
　　　　　　// 作成日
            "CreationDate":"2021-10-14T01:31:13Z",
　　　　　　// サイズ
            "Size":5,
            "SHA256TreeHash":"**************************************"
        }
    ]
}
```

## 通知
ジョブが完了すると、Amzon SNSでどこへ通知するか設定できる。


## ボールドポリシー
### ボールドロックポリシー
1年間削除できないようにする。

```
{
   "Version":"2012-10-17",
   "Statement": [
      {
         "Sid": "deny-based-on-archive-age",
         "Principal": "*",
         "Effect": "Deny",
         "Action": "glacier:DeleteArchive",
         "Resource": [
            "arn:aws:glacier:us-west-2:123456789012:vaults/examplevault"
         ],
         "Condition": {
            "NumericLessThan" : {
                  "glacier:ArchiveAgeInDays" : "365"
            }
         }
      }
   ]
}
```

