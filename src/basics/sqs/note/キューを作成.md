# 概要
コンソール上で「キューを作成」を実施する際の各種項目を解説する。

# 前提知識
## 可視性タイムアウト
### ●概要
可視性タイムアウト時間中は次のキューを処理できない。  

**【例：可視性タイムアウト時間が1分の場合】**  
先頭のメッセージが処理されている間は論理削除の様な状態となる。キューの処理が完了すると、物理削除として完全にキューから削除される。
先頭である "メッセージ1" を処理している場合、1分間は "メッセージ2" を処理できない。※"メッセージ1"の処理が終われば、次のメッセージを処理できます。  
逆に1分が経過しても、 "メッセージ1" の処理が終わっていない場合、別のコンシューマー（Lambda等）が "メッセージ1" の処理を実行する。  
想定される処理時間以下で、「可視性タイムアウト時間」を設定すると、処理が重複して実行されてしまう為、**「想定される処理時間 < 可視性タイムアウト時間」 となるように設定する。**  

もし、可視性タイムアウトが短すぎると、メッセージの重複処理が実行されてしまう点に注意。

### ●可視性タイムアウトの比較
- 可視性タイムアウトが短すぎる => 処理が重複して実行されてしまう
- 可視性タイムアウトが長過ぎる => 前回の処理が失敗した場合にメッセージを再度処理しようとすると、比較的長い時間待つ必要

### ●可視性タイムアウトの設定方法
- 処理時間が分かる場合
- 処理時間が分からない場合

### ●なぜ先頭メッセージの処理を開始した時点で、キューからメッセージを削除しないのか
コンシューマー（Lambda等）により、先頭のメッセージを処理する際、ネットワークの問題や何らかのエラーが起きた場合、キューが完全に消失する事を防ぐため。  
コンシューマーによる処理が完了してから、正式に先頭メッセージを削除する。  

![image](https://github.com/adgjmptwgw/aws-practice/assets/66456130/9fe67297-6012-41a6-bb73-96a9934af241)


# 作成手順
## デッドレターキュー
- 最大受信数（リトライ回数）　　


# メモ（後で手順に追加）
