# 概要
コンソール上で「Application Load Balancerを作成」を実施する際の各種項目を解説する。  

# 前提知識
## SSLアクセラレータ
HTTPSの通信を暗号/復号化するもの。ALBではHTTPS通信を復号化して、HTTP通信でVPC内のパブリックサブネットに通信します。

# 手順
## 基本的な設定
1. **ロードバランサー名**
2. **スキーム**
  - インターネット向け
    - インターネットからのトラフィック（Rest APIの通信等）を捌くときに使用する。
    - ほとんどの場合、こちらを選択する。
  - 内部向け
    - Privateサブネット内で完結する処理をALBで分散したいときに使用
    - 下記の画像は参考のインフラ構成

![image](https://github.com/adgjmptwgw/aws-practice/assets/66456130/c1cdd7a5-e514-422c-8b1e-498158322a3c)

3. **IPアドレスタイプ**  
ALBからトラフィックをVPCにトラフィックを転送する際の転送先（Privateサブネット）のIPアドレスタイプを選択する。

   - IPv4
     - VPCとサブネットでIPv4のみのIPアドレスを使用している場合、こちらを選択
   - Dualstack
     - VPCとサブネットには、IPv6 CIDR ブロックが使用されている場合はこちらを選択する可能性あり
     - デュアルスタックの手順は知らないので、余裕があれば調べる。サブネットのルートテーブルでIPv6トラフィックをルーティング、セキュリティグループで、IPv6トラフィックを許可する等の対応が必要らしい。


***

**リスナー**
ALBにアクセスするプロトコルとポート（またはIPアドレス）に対して、どのターゲットグループで処理を捌くかコントロールする。

**AWS Global Accelerator**  
[AWS Global Acceleratorの記事](https://qiita.com/Dai_Kentaro/items/c25aed800e8d6cfd1f18)
