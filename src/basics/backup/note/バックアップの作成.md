# 概要
コンソール上で「バックアップ保管庫の作成（ボールトの作成）」「バックアッププランを作成 」を実施する際の各種項目を解説する。  

# 前提知識
## Backup作成の流れ
1. バックアップ保管庫（ボールト）の作成
2. バックアッププランを作成
3. 東京リージョンで障害が発生し、使用不可
4. 災害復旧後、バックアップを東京リージョンに復元？？？？

## RDSのRPO/RTOとは
### RPO
- あるバックアップの「ポイント」までデータを復旧させる事

## RTO
- ある「時間」までデータを復旧させる事

**<参考資料>**  
- [**RPO/RTOとは**](https://sayjoyblog.com/rpo-rto/)

# 各種項目
# ボールトの作成
TBD

# ボールトロックを作成
## ボールトロックモード
### ガバナンスモード
- 復旧ポイントを削除できなくする。
- 管理画面でガバナンスモードを外せば、削除が可能な為、うっかり削除防止のモード。

### コンプライアンスモード
- 復旧ポイントを削除できなくする。
- クーリングオフ期間以降は ボールトロックを管理または削除することが不可能。クーリングオフ期間はコンプライアンスモードの開始日が起点となる。

**<参考記事>**  
- [**ボールトロックモードについて**](https://blog.serverworks.co.jp/2022/12/29/104659z)


# バックアッププランを作成
## バックアップ期間
### start within（内から始める）
- 何時間以内にAWS Backupを始めるか設定できる
- 下記のような事がある為、この項目を設定する必要がある。また、下記のイベントを避けて、バックアップのタイミングを自動でスケジューリングしてくれる。
  - RDSの自動バックアップ4時間前になると、AWS Backupは開始できなくなる。  
※**注：ただしAuroraの場合は制限が無い為、バックアップ時間が重複しても問題ない**
  - メンテナンス期間の開始1時間前からメンテナンス終了まではバックアップが開始されない。

**<参考資料>**  
- [**AWS公式：AWSメンテナンスに伴うAWS Backupの注意点**](https://docs.aws.amazon.com/aws-backup/latest/devguide/creating-a-backup-plan.html?icmpid=docs_console_unmapped)
- [**AWS公式：RDSバックアップに伴うAWS Backupの注意点**](https://repost.aws/questions/QUv-o_oIQoTnSRRQtcb22nGQ/aws-backup-policy-and-retention)

## ポイントインタイムリカバリ 
### PITRの為に継続的なバックアップを有効化
- 最大35日前の特定の時刻にRDSのデータを巻き戻すことができる機能
- 5分以内に素早く実行できる（バックアップ運用を大幅に簡素化）
- 初めて有効化すると、バックアップボールトが作成される。既存のバックアップボールトがあれば、ボールトは作成されない。


